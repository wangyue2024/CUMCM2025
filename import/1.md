```mermaid
mindmap
  root((xNES 算法流程))
    (1. 初始化)
      ::icon(fa fa-cogs)
      (设置分布参数)
        - 均值向量 μ₀
        - 协方差矩阵 C₀ (通常为单位矩阵)
      (设置算法超参数)
        - 种群大小 λ
        - 学习率 η_μ, η_C
        - 终止条件 (如最大迭代次数、适应度阈值)

    (2. 迭代优化循环)
      ::icon(fa fa-sync-alt)
      (A. 采样 Sampling)
        ::icon(fa fa-random)
        - 从当前高斯分布 N(μ, C) 中<br/>采样 λ 个个体 {x₁, ..., x_λ}

      (B. 评估 Evaluation)
        ::icon(fa fa-chart-line)
        - 对每个个体 x_k，<br/>通过黑箱目标函数计算其适应度 f(x_k)

      (C. 计算自然梯度 Natural Gradient)
        ::icon(fa fa-calculator)
        - **核心步骤**
        - 利用所有个体的适应度 f(x_k)
        - 蒙特卡洛估计期望适应度 J(θ) 的<br/>**自然梯度**
        - 得到均值的更新方向: ∇̃_μ J
        - 得到协方差的更新方向: ∇̃_C J
        - (内部原理: 通过费雪信息矩阵 F<br/>对标准梯度进行变换 ∇̃ = F⁻¹∇)

      (D. 更新分布参数 Update)
        ::icon(fa fa-arrow-alt-circle-up)
        - **更新均值 μ**
          - μ ← μ + η_μ * ∇̃_μ J
          - (向着更有利的方向移动分布中心)
        - **更新协方差矩阵 C**
          - C ← C * exp(η_C * ∇̃_C J)
          - (**指数更新**: 使用矩阵指数函数)
          - (目的: 保证 C 始终为对称正定矩阵，<br/>增强数值稳定性)

    (3. 输出结果)
      ::icon(fa fa-trophy)
      - 循环结束
      - 返回当前分布的均值 μ 作为最优解
      - (或返回历史评估中适应度最高的个体)
```

